
- 对象：存放某类型值的储存空间。
# 构造与析构

## 构造[[C/函数]]

```
类名() {...}
```
- 构造函数，没有返回值且不加void。
- [[C/函数]]名称与[[类]]名相同。
- 可以有参数，可以重载。
- ==调用对象时自动调用构造函数==，只会调用一次。

## 析构[[C/函数]]

```
~类名() {...}
```
- 析构函数，没有返回值，不写void
- 函数名称与类名相同，类名前加~
- 析构函数不能有参数，不能重载
- 在==对象销毁前自动调用==，只调用一次

> [!tip] Tips
> 构造和析构都是必须有的实现，如果没有人为提供，编译器会提供一个空的构造与析构

## 构造函数的分类与调用

### 分类

- 有参构造与无参构造(默认构造)
- 普通构造与==拷贝构造==(注意语法)
```
class Person {
public:
    //无参构造函数
    Person () {
        cout << "无参构造函数的调用" << endl;
    }
    //有参构造函数
    Person (int a) {
        age = a;
        cout << "有参构造函数的调用" << endl;
    }
    //拷贝构造函数
    Person (const Person & p) {
        age = p.age;
        cout << "拷贝构造函数的调用" << endl;
    }
    //析构函数
    ~Person() {
        cout << "析构函数的调用" << endl ;
    }
    int age;
};
```
### 调用方法

- 括号法
- 显示法
- 隐式转换法
```
void test()
{
    //括号法调用构造函数
    Person p1;      //默认构造
    //使用无参函数时不能加括号！！！！！
    Person p2(1);   //有参构造
    Person p3(p2);  //拷贝构造
    //显示法调用
    Person p4 = Person(2);
    Person p5 = Person(p4);
    //隐式转换法
    Person p6 = 3;
    Person p7 = p6;
    //不能用拷贝函数初始化匿名对象
    //Person (p3);
```


> [!warning] WARNINGS
> 1.调用默认函数时不要加括号。
> 2.不要用拷贝函数[[初始化]]匿名对象。

## 构造函数调用规则

- 默认函数（默认提供的函数）
	- 默认构造函数（无参，函数体为空）
	- 默认析构函数（无参，函数体为空）
	- 默认拷贝构造函数（进行值拷贝）
- 调用规则
	- 用户定义了有参构造函数，则不再提供默认构造
	- 用户定义了[[拷贝]]构造，则不再提供其他构造（默认and有参）

# 初始化列表\

```
class Person {
    public:
    int ma;
    int mb;
    int mc;
    //初始化列表
    Person(int a,int b,int c):ma(a),mb(b),mc(c){}
};
```